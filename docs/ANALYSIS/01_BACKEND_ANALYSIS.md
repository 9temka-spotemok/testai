# Backend Analysis - AI Competitor Insight Hub

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 31 —è–Ω–≤–∞—Ä—è 2025  
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** Backend (FastAPI)

---

## üìä –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ Backend

**–û—Ü–µ–Ω–∫–∞:** 7/10

Backend –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ FastAPI —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º async/await –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ö–æ—Ä–æ—à—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —á–∏—Å—Ç–∞—è, –∫–æ–¥ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω, –Ω–æ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏.

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

```
Python 3.11+
FastAPI 0.115.0
PostgreSQL 16.0 (AsyncSQL —á–µ—Ä–µ–∑ asyncpg)
Redis 7.4.0 (Cache & Queue)
Celery 5.4.0 (Background Tasks)
Alembic 1.13.0 (Migrations)
SQLAlchemy 2.0.35 (ORM)
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
backend/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ api/v1/          # API endpoints (8 –≥—Ä—É–ø–ø)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ endpoints/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ news.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ users.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ digest.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ companies.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ competitors.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ notifications.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ telegram.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ admin/
‚îÇ   ‚îú‚îÄ‚îÄ models/           # Database models (11 –º–æ–¥–µ–ª–µ–π)
‚îÇ   ‚îú‚îÄ‚îÄ services/         # Business logic (7 —Å–µ—Ä–≤–∏—Å–æ–≤)
‚îÇ   ‚îú‚îÄ‚îÄ scrapers/         # Web scrapers (5 scrapers)
‚îÇ   ‚îú‚îÄ‚îÄ tasks/            # Celery tasks (7 –∑–∞–¥–∞—á)
‚îÇ   ‚îú‚îÄ‚îÄ bot/              # Telegram bot handlers
‚îÇ   ‚îî‚îÄ‚îÄ core/             # Core functionality
‚îÇ       ‚îú‚îÄ‚îÄ config.py
‚îÇ       ‚îú‚îÄ‚îÄ database.py
‚îÇ       ‚îú‚îÄ‚îÄ security.py
‚îÇ       ‚îî‚îÄ‚îÄ exceptions.py
‚îú‚îÄ‚îÄ alembic/              # Database migrations (7 –º–∏–≥—Ä–∞—Ü–∏–π)
‚îî‚îÄ‚îÄ scripts/              # Utility scripts
```

---

## üì¶ –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### 1. API Endpoints

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ endpoints

**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** (`/api/v1/auth`):
- ‚úÖ POST `/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ POST `/login` - –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
- ‚ùå POST `/refresh` - **TODO:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å refresh token
- ‚ùå POST `/logout` - **TODO:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å logout
- ‚ùå POST `/reset-password` - **TODO:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è

**–ù–æ–≤–æ—Å—Ç–∏** (`/api/v1/news`):
- ‚úÖ GET `/` - –°–ø–∏—Å–æ–∫ –Ω–æ–≤–æ—Å—Ç–µ–π —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- ‚úÖ GET `/{id}` - –î–µ—Ç–∞–ª–∏ –Ω–æ–≤–æ—Å—Ç–∏
- ‚úÖ GET `/search` - –ü–æ–∏—Å–∫ –Ω–æ–≤–æ—Å—Ç–µ–π
- ‚ö†Ô∏è POST `/{id}/read` - **TODO:** Mark as read
- ‚ö†Ô∏è POST `/{id}/favorite` - **TODO:** Favorite functionality

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏** (`/api/v1/users`):
- ‚úÖ GET `/me` - –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- ‚ùå PUT `/me` - **TODO:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
- ‚úÖ GET `/preferences` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ PUT `/preferences` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- ‚úÖ GET `/preferences/digest` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–∞–π–¥–∂–µ—Å—Ç–∞
- ‚úÖ PUT `/preferences/digest` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–∞–π–¥–∂–µ—Å—Ç–∞

**–î–∞–π–¥–∂–µ—Å—Ç—ã** (`/api/v1/digest`):
- ‚úÖ GET `/daily` - –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –¥–∞–π–¥–∂–µ—Å—Ç
- ‚úÖ GET `/weekly` - –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –¥–∞–π–¥–∂–µ—Å—Ç
- ‚úÖ GET `/custom` - –ö–∞—Å—Ç–æ–º–Ω—ã–π –¥–∞–π–¥–∂–µ—Å—Ç
- ‚úÖ POST `/generate` - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–π–¥–∂–µ—Å—Ç–∞

**–ö–æ–º–ø–∞–Ω–∏–∏** (`/api/v1/companies`):
- ‚úÖ GET `/` - –°–ø–∏—Å–æ–∫ –∫–æ–º–ø–∞–Ω–∏–π
- ‚úÖ GET `/{id}` - –î–µ—Ç–∞–ª–∏ –∫–æ–º–ø–∞–Ω–∏–∏
- ‚úÖ POST `/scan` - –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏ (–Ω–æ–≤–æ–µ)
- ‚úÖ POST `/` - –°–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏

**–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç—ã** (`/api/v1/competitors`):
- ‚úÖ POST `/compare` - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–π
- ‚úÖ GET `/comparisons` - –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
- ‚úÖ GET `/activity/{id}` - –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫–æ–º–ø–∞–Ω–∏–∏

**–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** (`/api/v1/notifications`):
- ‚úÖ GET `/` - –°–ø–∏—Å–æ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- ‚úÖ GET `/unread` - –ù–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ
- ‚úÖ PUT `/{id}/read` - –ü–æ–º–µ—Ç–∏—Ç—å –∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–µ
- ‚úÖ PUT `/mark-all-read` - –ü–æ–º–µ—Ç–∏—Ç—å –≤—Å–µ –∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ

**Telegram** (`/api/v1/telegram`):
- ‚úÖ POST `/webhook` - Webhook –¥–ª—è Telegram
- ‚úÖ GET `/status` - –°—Ç–∞—Ç—É—Å –±–æ—Ç–∞
- ‚úÖ GET `/check-user/{chat_id}` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**Admin** (`/api/v1/admin`):
- ‚úÖ POST `/scraping/run` - –ó–∞–ø—É—Å–∫ scraping
- ‚úÖ GET `/scraping/status` - –°—Ç–∞—Ç—É—Å scraping

#### –û—Ü–µ–Ω–∫–∞ API: üü° 75%
- –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ TODO –≤ auth endpoints
- –•–æ—Ä–æ—à–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è
- –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Ç–µ—Å—Ç—ã

---

### 2. Database Models

#### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ (11 –º–æ–¥–µ–ª–µ–π)

1. **User** - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
   - ‚úÖ email, password_hash, full_name
   - ‚úÖ is_active, is_verified
   - ‚úÖ email_verification_token
   - ‚úÖ password_reset_token
   - ‚úÖ created_at, updated_at

2. **UserPreferences** - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - ‚úÖ subscribed_companies[] (array UUID)
   - ‚úÖ interested_categories[] (array enum)
   - ‚úÖ keywords[] (array string)
   - ‚úÖ digest_enabled, digest_frequency
   - ‚úÖ digest_custom_schedule (JSON)
   - ‚úÖ telegram_chat_id, telegram_enabled
   - ‚úÖ telegram_digest_mode
   - ‚úÖ timezone, week_start_day

3. **NewsItem** - –ù–æ–≤–æ—Å—Ç–∏
   - ‚úÖ title, content, summary
   - ‚úÖ source_url, source_type (enum)
   - ‚úÖ company_id, category (enum)
   - ‚úÖ priority_score, published_at
   - ‚úÖ search_vector (TSVECTOR –¥–ª—è full-text search)

4. **Company** - –ö–æ–º–ø–∞–Ω–∏–∏
   - ‚úÖ name, website, description
   - ‚úÖ logo_url, founded_year
   - ‚úÖ category, country
   - ‚úÖ news_page_url (–¥–ª—è —Ä—É—á–Ω–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è)

5. **CompetitorComparison** - –°—Ä–∞–≤–Ω–µ–Ω–∏—è
   - ‚úÖ company_ids[] (array UUID)
   - ‚úÖ date_from, date_to
   - ‚úÖ name, metrics (JSON)

6. **Notification** - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
   - ‚úÖ type, title, message
   - ‚úÖ data (JSON)
   - ‚úÖ is_read, priority
   - ‚úÖ created_at

7. **UserActivity** - –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - ‚úÖ user_id, activity_type
   - ‚úÖ metadata (JSON)
   - ‚úÖ created_at

8. **Scraper** - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∫—Ä–∞–ø–µ—Ä–æ–≤
   - ‚úÖ name, source_url
   - ‚úÖ enabled, last_run
   - ‚úÖ config (JSON)

9. **Keyword** - –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞
   - ‚úÖ user_id, keyword
   - ‚úÖ enabled

10. **Competitor** - –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ –∫–æ–º–ø–∞–Ω–∏–∏
    - ‚úÖ user_id, company_id
    - ‚úÖ enabled

11. **NotificationSettings** - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
    - ‚úÖ user_id, enabled
    - ‚úÖ notification_types (JSON)
    - ‚úÖ min_priority_score

#### –ú–∏–≥—Ä–∞—Ü–∏–∏ (7 –º–∏–≥—Ä–∞—Ü–∏–π)

- ‚úÖ `0001_initial_schema.py` - –ë–∞–∑–æ–≤–∞—è —Å—Ö–µ–º–∞
- ‚úÖ `28c9c8f54d42_add_enum_types.py` - Enum —Ç–∏–ø—ã
- ‚úÖ `b5037d3c878c_add_new_news_categories.py` - –ù–æ–≤—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- ‚úÖ `b5037d3c88_add_telegram_digest_mode.py` - Telegram —Ä–µ–∂–∏–º
- ‚úÖ `c1d2e3f4g5h6_add_digest_and_notifications.py` - –î–∞–π–¥–∂–µ—Å—Ç—ã –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚úÖ `d5e6f7g8h9i0_add_timezone_to_preferences.py` - Timezone support
- ‚úÖ `e1f2g3h4i5j6_fix_enum_type_names.py` - Fix enum names

#### –û—Ü–µ–Ω–∫–∞ –º–æ–¥–µ–ª–µ–π: üü¢ 90%
- –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å—Ö–µ–º–∞ –ë–î
- –•–æ—Ä–æ—à–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ timezone
- –ò–Ω–¥–µ–∫—Å—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- Full-text search —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω

---

### 3. Services (Business Logic)

#### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã (7 —Å–µ—Ä–≤–∏—Å–æ–≤)

1. **NewsService** (`news_service.py`)
   - ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–µ–π —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
   - ‚úÖ –ü–æ–∏—Å–∫ –Ω–æ–≤–æ—Å—Ç–µ–π
   - ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–µ–π
   - ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (in-memory)
   - ‚úÖ Full-text search

2. **DigestService** (`digest_service.py`)
   - ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–π–¥–∂–µ—Å—Ç–æ–≤
   - ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ daily/weekly/custom –ø–µ—Ä–∏–æ–¥–æ–≤
   - ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - ‚úÖ –†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
   - ‚úÖ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è Telegram

3. **TelegramService** (`telegram_service.py`)
   - ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Telegram
   - ‚úÖ Inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
   - ‚úÖ Webhook –æ–±—Ä–∞–±–æ—Ç–∫–∞
   - ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–ª–∏–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

4. **CompetitorService** (`competitor_service.py`)
   - ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–º–∏ –∫–æ–º–ø–∞–Ω–∏—è–º–∏
   - ‚úÖ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–π
   - ‚úÖ –ê–Ω–∞–ª–∏–∑ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

5. **NotificationService** (`notification_service.py`)
   - ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
   - ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
   - ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

6. **ScrapingService** (`scraping_service.py`)
   - ‚úÖ –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è —Å–∫—Ä–∞–ø–∏–Ω–≥–∞
   - ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏

7. **CompanyInfoExtractor** (`company_info_extractor.py`)
   - ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–∏
   - ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å –Ω–æ–≤–æ—Å—Ç—è–º–∏
   - ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–º–ø–∞–Ω–∏–∏

#### –û—Ü–µ–Ω–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤: üü¢ 85%
- –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- –•–æ—Ä–æ—à–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- Async/await –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–µ—Ä–≤–∏—Å—ã –º–æ–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å

---

### 4. Scrapers

#### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ scrapers (5 scrapers)

1. **UniversalScraper** (`universal_scraper.py`)
   - ‚úÖ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π scraper –¥–ª—è –±–ª–æ–≥–æ–≤
   - ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å –Ω–æ–≤–æ—Å—Ç—è–º–∏
   - ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ (RSS, HTML, Next.js)
   - ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
   - ‚úÖ –¢–∞–π–º–∞—É—Ç—ã –∏ retry –ª–æ–≥–∏–∫–∞

2. **OpenAIScraper** (`openai_scraper.py`)
   - ‚úÖ –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π scraper –¥–ª—è OpenAI Blog

3. **RealScrapers** (`real_scrapers.py`)
   - ‚úÖ Scrapers –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

4. **BaseScraper** (`base.py`)
   - ‚úÖ –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è scrapers

#### –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚úÖ OpenAI Blog
- ‚úÖ Anthropic News
- ‚úÖ Google AI Blog
- ‚úÖ Meta AI Blog

**TODO:**
- ‚ùå Twitter/X API
- ‚ùå GitHub API
- ‚ùå Reddit API

#### –û—Ü–µ–Ω–∫–∞ scrapers: üü° 60%
- –ë–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –µ—Å—Ç—å
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- –•–æ—Ä–æ—à–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

---

### 5. Celery Tasks

#### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ (7 –∑–∞–¥–∞—á)

1. **scraping.py**
   - ‚úÖ `scrape_ai_blogs` - –°–∫—Ä–∞–ø–∏–Ω–≥ –±–ª–æ–≥–æ–≤
   - ‚ö†Ô∏è `fetch_social_media` - **TODO:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å
   - ‚ö†Ô∏è `monitor_github` - **TODO:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å
   - ‚ö†Ô∏è `cleanup_old_data` - **TODO:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å

2. **digest.py**
   - ‚úÖ `generate_daily_digests` - –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –¥–∞–π–¥–∂–µ—Å—Ç—ã
   - ‚úÖ `generate_weekly_digests` - –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –¥–∞–π–¥–∂–µ—Å—Ç—ã
   - ‚úÖ `generate_user_digest` - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–π–¥–∂–µ—Å—Ç–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - ‚úÖ `send_channel_digest` - –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ –∫–∞–Ω–∞–ª

3. **nlp.py**
   - ‚ö†Ô∏è `classify_news` - **TODO:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å
   - ‚ö†Ô∏è `summarize_news` - **TODO:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å
   - ‚ö†Ô∏è `extract_keywords` - **TODO:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å

4. **notifications.py**
   - ‚úÖ `check_daily_trends` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç—Ä–µ–Ω–¥–æ–≤
   - ‚úÖ `check_company_activity` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∫–æ–º–ø–∞–Ω–∏–π
   - ‚úÖ `cleanup_old_notifications` - –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

5. **seed_companies.py**
   - ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–∞–Ω–∏–π

6. **seed_competitors.py**
   - ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤

#### Celery Beat Schedule

```python
- scrape-ai-blogs: –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç
- fetch-social-media: –∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç (TODO)
- monitor-github: –∫–∞–∂–¥—ã–π —á–∞—Å (TODO)
- generate-daily-digests: –∫–∞–∂–¥—ã–π —á–∞—Å
- generate-weekly-digests: –∫–∞–∂–¥—ã–π —á–∞—Å
- send-channel-digest: –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ –ø–æ–ª–Ω–æ—á—å UTC
- check-daily-trends: –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤
- check-company-activity: –∫–∞–∂–¥—ã–µ 4 —á–∞—Å–∞
- cleanup-old-notifications: –µ–∂–µ–¥–Ω–µ–≤–Ω–æ
- cleanup-old-data: –µ–∂–µ–¥–Ω–µ–≤–Ω–æ (TODO)
```

#### –û—Ü–µ–Ω–∫–∞ –∑–∞–¥–∞—á: üü° 65%
- –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- NLP –∑–∞–¥–∞—á–∏ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ –º–µ–¥–∏–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- –•–æ—Ä–æ—à–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

---

### 6. Telegram Bot

#### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

**–ö–æ–º–∞–Ω–¥—ã:**
- ‚úÖ `/start` - –ü–æ–ª—É—á–∏—Ç—å Chat ID –∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
- ‚úÖ `/help` - –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
- ‚úÖ `/subscribe` - –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –¥–∞–π–¥–∂–µ—Å—Ç
- ‚úÖ `/unsubscribe` - –û—Ç–ø–∏—Å–∞—Ç—å—Å—è –æ—Ç –¥–∞–π–¥–∂–µ—Å—Ç–∞
- ‚úÖ `/settings` - –¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ `/digest` - –ü–æ–ª—É—á–∏—Ç—å –¥–∞–π–¥–∂–µ—Å—Ç —Å–µ–π—á–∞—Å

**–§—É–Ω–∫—Ü–∏–∏:**
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–π–¥–∂–µ—Å—Ç–æ–≤
- ‚úÖ Inline –∫–Ω–æ–ø–∫–∏ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- ‚úÖ Webhook –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- ‚úÖ Polling mode (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ callback queries
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–∞–π–¥–∂–µ—Å—Ç–∞ —á–µ—Ä–µ–∑ –±–æ—Ç–∞
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫

**–§–∞–π–ª—ã:**
- `app/bot/handlers.py` - –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
- `app/api/v1/endpoints/telegram.py` - Webhook endpoint
- `app/services/telegram_service.py` - –°–µ—Ä–≤–∏—Å –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- `scripts/telegram_polling.py` - Polling –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

#### –û—Ü–µ–Ω–∫–∞ Telegram –±–æ—Ç–∞: üü¢ 90%
- –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –±–æ—Ç
- –•–æ—Ä–æ—à–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π
- –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ
- –•–æ—Ä–æ—à–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

---

### 7. Core Components

#### config.py
- ‚úÖ Pydantic Settings –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π
- ‚úÖ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

#### database.py
- ‚úÖ AsyncSQLAlchemy –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- ‚úÖ Connection pooling
- ‚úÖ Health checks
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏

#### security.py
- ‚úÖ JWT —Ç–æ–∫–µ–Ω—ã (access + refresh)
- ‚úÖ Bcrypt –¥–ª—è –ø–∞—Ä–æ–ª–µ–π
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤
- ‚ö†Ô∏è Refresh token –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é

#### exceptions.py
- ‚úÖ –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
- ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –æ—à–∏–±–æ–∫
- ‚úÖ –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫

#### –û—Ü–µ–Ω–∫–∞ core: üü¢ 85%
- –•–æ—Ä–æ—à–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ async
- –ù—É–∂–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å refresh token

---

## üö® –ü—Ä–æ–±–ª–µ–º—ã –∏ TODO

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–ú–∏–≥—Ä–∞—Ü–∏–∏ –æ—Ç–∫–ª—é—á–µ–Ω—ã –≤ production**
   - –§–∞–π–ª: `backend/main.py` (—Å—Ç—Ä–æ–∫–∏ 48-50)
   - –ü—Ä–æ–±–ª–µ–º–∞: –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è
   - –†–µ—à–µ–Ω–∏–µ: –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏

2. **–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Ç–µ—Å—Ç—ã**
   - Coverage: < 5%
   - –ù—É–∂–Ω–æ: Unit –∏ integration —Ç–µ—Å—Ç—ã
   - –¶–µ–ª—å: >80% coverage

3. **TODO –≤ auth endpoints**
   - Refresh token –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
   - Logout –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
   - Password reset –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω

### –í–∞–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

4. **API –∫–ª—é—á–∏ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã**
   - OpenAI API (–¥–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏)
   - GitHub API (–¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞)
   - Twitter API (–¥–ª—è —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö –º–µ–¥–∏–∞)
   - SendGrid API (–¥–ª—è email)

5. **NLP –∑–∞–¥–∞—á–∏ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã**
   - –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π
   - –°—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—è
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤

6. **–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ –º–µ–¥–∏–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã**
   - Twitter/X API
   - Reddit API
   - GitHub monitoring

---

## ‚úÖ –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã

1. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**
   - –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–ª–æ–µ–≤
   - Dependency injection
   - Async/await –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

2. **Code Quality**
   - Type hints –≤–µ–∑–¥–µ
   - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ö–æ—Ä–æ—à–∞—è
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –Ω–∞ —É—Ä–æ–≤–Ω–µ

3. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**
   - –•–æ—Ä–æ—à–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è
   - –ò–Ω–¥–µ–∫—Å—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
   - Full-text search —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω

4. **Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**
   - –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞
   - –•–æ—Ä–æ—à–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏

- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~15,000
- **API Endpoints:** ~40
- **–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö:** 11
- **–°–µ—Ä–≤–∏—Å—ã:** 7
- **Scrapers:** 5
- **Celery –∑–∞–¥–∞—á–∏:** 7
- **–ú–∏–≥—Ä–∞—Ü–∏–∏:** 7

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ)
1. –í–∫–ª—é—á–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ production
2. –ù–∞–ø–∏—Å–∞—Ç—å –±–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã (—Ü–µ–ª—å: >50% coverage)
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å refresh token –∏ logout

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–í–∞–∂–Ω–æ)
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å API –∫–ª—é—á–∏
5. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å NLP –∑–∞–¥–∞—á–∏
6. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ –º–µ–¥–∏–∞ scrapers

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ)
7. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î
8. –î–æ–±–∞–≤–∏—Ç—å rate limiting
9. –£–ª—É—á—à–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (Redis)

---

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 31 —è–Ω–≤–∞—Ä—è 2025  
**–°–ª–µ–¥—É—é—â–∏–π –ø–µ—Ä–µ—Å–º–æ—Ç—Ä:** –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º

