# Phase 0 — Alembic Checklist Template

Используйте этот шаблон, чтобы документировать результаты проверки миграций. Создавайте копию (например, `2025-11-10_alembic_check.md`) и заполняйте для каждого окружения.

---

## 1. Общая информация
- **Дата проверки:** _YYYY-MM-DD_
- **Окружение:** _(локально / staging / railway / prod snapshot и т.д.)_
- **Ответственный:** _Имя_

## 2. Подготовка окружения
- [ ] Создана отдельная БД / schema для теста (`createdb`, docker-compose и т.д.)
- [ ] Применён `database/init.sql` (если требуется)
- [ ] Проверены переменные окружения (`DATABASE_URL`, `ALEMBIC_CONFIG`, др.)

## 3. Прогон миграций
```
cd backend
poetry install  # при необходимости
poetry run alembic upgrade head
```
- Результат команды: _успешно / неуспешно (указать ошибки)_
- Итоговая ревизия (`alembic current`): ``

## 4. Сверка истории
```
poetry run alembic history --verbose
```
- Совпадает ли порядок ревизий с целевым окружением? _Да/Нет_
- Если нет — перечислите расхождения и рекомендуемые действия.

## 5. Дополнительные проверки
- [ ] Таблицы созданы/обновлены корректно (опционально — список ключевых таблиц)
- [ ] Enum-типы соответствуют ожидаемым значениям
- [ ] Выполнены smoke-тесты API вручную/скриптом (если требуется)

## 6. Наблюдения и рекомендации
- _Опишите любые проблемы/предупреждения_
- _Предложите улучшения процесса миграций_

---

**Итог:** _Go / Blocked_  
**Подпись:** _Имя, команда_




